<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.geometry.Insets?>

<?import javafx.scene.image.Image?>
<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="flowmate_team5.controllers.MainPageController"
            stylesheets="@../mainpage.css">

    <!-- TOP BAR -->
    <top>
        <HBox alignment="CENTER_LEFT"
              spacing="10"
              style="-fx-padding:10;">
            <Button text="⋮"
                    onAction="#toggleSidebar"
                    styleClass="menu-button"/>
        </HBox>
    </top>

    <!-- SIDEBAR (INVARIATA) -->
    <left>
        <AnchorPane fx:id="sidebar"
                    prefWidth="320"
                    styleClass="sidebar">
            <ListView fx:id="RuleList"
                      AnchorPane.topAnchor="0"
                      AnchorPane.bottomAnchor="0"
                      AnchorPane.leftAnchor="0"
                      AnchorPane.rightAnchor="0"/>
        </AnchorPane>
    </left>

    <!-- CENTRO -->
    <center>
        <VBox spacing="25"
              alignment="CENTER"
              styleClass="main-container">

            <!-- TITOLO -->
            <Label text="FlowMate"
                   styleClass="app-title"/>

            <!-- LOGO -->
            <ImageView fitWidth="300"
                       fitHeight="300"
                       preserveRatio="true">
                <image>
                    <Image url="@../images/AppIcon.png"/>
                </image>
            </ImageView>


            <!-- TRIGGER → ACTION -->
            <HBox spacing="20"
                  alignment="CENTER">

                <VBox spacing="6" alignment="CENTER">
                    <Label text="Select a Trigger" styleClass="section-label"/>
                    <ComboBox fx:id="triggerDropDownMenu"
                              prefWidth="220"/>
                </VBox>

                <ImageView fitHeight="40"
                           preserveRatio="true">
                    <image>
                        <Image url="@../images/arrowImage.png"/>
                    </image>
                </ImageView>


                <VBox spacing="6" alignment="CENTER">
                    <Label text="Select an Action" styleClass="section-label"/>
                    <ComboBox fx:id="actionDropDownMenu"
                              prefWidth="220"/>
                </VBox>
            </HBox>

            <!-- RULE NAME -->
            <VBox spacing="6" alignment="CENTER">
                <Label text="Rule name" styleClass="section-label"/>
                <TextField fx:id="RuleNameTextArea"
                           prefWidth="300"
                           promptText="Enter rule name"/>
            </VBox>

            <!-- CREATE -->
            <Button fx:id="createRuleButton"
                    text="Create Rule"
                    onAction="#confirmButtonPushed"
                    styleClass="create-button"/>

        </VBox>
    </center>

</BorderPane>
